                                # tag2 i0 imm[12:6] Rb    Rs/Rd func3 imm[5:1] 
start:
    b tag1                      # 00   0  0000000   00000 00000 000   10010    1001 #0
    #jump to tag1
tag2:
    sh x2, 0(x0)                # 00   0  0000000   00000 00010 000   00000    0101
    xor x10, zero, zero         # 01   0  0000000   00000 00000 001   01010    0111
    addi x11, x10, 16           # 00   0  0000000   01000 01010 000   01011    1111
    loop:
        addi x11, x11, -1       # 00   1  1111111   11111 01011 000   01011    1111
        addi x10, x10, 2        # 00   0  0000000   00001 01010 000   01010    1111
        cbnz x11, loop          # 11   1  1111111   01011 00000 101   11100    0001
    ret x2                      # 00   0  0000000   00010 00000 010   00000    1001
    xor x10, x10, x10           # 01   0  0000000   01010 01010 001   01010    0111
    #foo code
tag1:
    bl tag2                     # 11   1  1111111   00000 00000 001   10000    1001
    slti x11, x10, 48           # 10   0  0000000   11000 01010 000   01011    1111
    cbz x11, start              # 11   1  1111111   01011 00000 001   01010    0001 #11
    cmovnz x12, x10, x2         # 10   1  0000000   00010 01010 100   01100    0111
    sh x10, 2(x0)               # 00   0  0000000   00000 01010 000   00001    0101
    sh x11, 4(x0)               # 00   0  0000000   00000 01011 000   00010    0101
    sh x12, 6(x0)               # 00   0  0000000   00000 01100 000   00011    0101
    clflush x0, 0(x0)           # 00   0  0000000   00000 00000 101   00000    0101

    
#after
#       0  1  2  3  4  5  6  7
# 0     28 00 20 00 01 00 28 00
